(this["webpackJsonpcdc-content"]=this["webpackJsonpcdc-content"]||[]).push([[0],{103:function(e,t,a){},125:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),i=a.n(c),s=(a(103),a(15)),o=a.n(s),l=a(25),u=a(12),m=a(26),d=a.n(m),p=a(87),g=a(79),f=a(7),h=new function e(){Object(g.a)(this,e),Object(f.h)(this,{loading:!0,isLoggedIn:!1,username:""})},v=a(169);var E=function(e){var t=e.text,a=e.disabled,n=e.onClick;return r.a.createElement("div",{className:"submit"},r.a.createElement(v.a,{variant:"contained",color:"primary",type:"submit",className:"button-block",disabled:a,onClick:function(){return n()}},t))},b=a(173),j=a(48),O=a(89),w=a(175),x=a(187);a(62);var y=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),s=Object(u.a)(i,2),m=s[0],p=s[1],g=Object(n.useState)(!1),f=Object(u.a)(g,2),v=f[0],y=f[1],S=function(e){var t=e.target,a=t.name,n=t.value;(n=n.trim()).length>12||("username"===a?c(n):p(n))},k=function(){c(""),p(""),y(!1)},C=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:if(m){e.next=4;break}return e.abrupt("return");case 4:return y(!0),e.prev=5,e.next=8,d()({url:"/login",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},data:JSON.stringify({username:a,password:m})});case 8:return t=e.sent,e.next=11,t.data;case 11:(n=e.sent)&&n.success?(h.isLoggedIn=!0,h.username=n.username):n&&!1===n.success&&(k(),alert(n.msg)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),k();case 18:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"login"},r.a.createElement(b.a,{container:!0,spacing:0,justify:"center",direction:"row"},r.a.createElement(b.a,{item:!0},r.a.createElement(b.a,{container:!0,direction:"column",justify:"center",spacing:2,className:"login-form"},r.a.createElement(O.a,{variant:"elevation",elevation:2,className:"login-background"},r.a.createElement(b.a,{item:!0},r.a.createElement(j.a,{component:"h1",variant:"h5"},"Sign in")),r.a.createElement(b.a,{item:!0},r.a.createElement("form",null,r.a.createElement(b.a,{container:!0,direction:"column",spacing:2},r.a.createElement(b.a,{item:!0},r.a.createElement(x.a,{required:!0,name:"username",label:"username",autoComplete:"username",variant:"outlined",value:a||"",onChange:S})),r.a.createElement(b.a,{item:!0},r.a.createElement(x.a,{required:!0,name:"password",label:"password",type:"password",autoComplete:"current-password",variant:"outlined",value:m||"",onChange:S})),r.a.createElement(b.a,{item:!0},r.a.createElement(E,{text:"Log in",disabled:v,onClick:function(){return C()}}))))),r.a.createElement(b.a,{item:!0},r.a.createElement(w.a,{href:"#",variant:"body2"},"Forgot Password?")))))))};var S=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),s=Object(u.a)(i,2),m=s[0],p=s[1],g=Object(n.useState)(""),f=Object(u.a)(g,2),v=f[0],w=f[1],y=Object(n.useState)(!1),S=Object(u.a)(y,2),k=S[0],C=S[1],N=function(e){var t=e.target,a=t.name,n=t.value;(n=n.trim()).length>12||("username"===a?c(n):"password"===a?p(n):w(n))},I=function(){c(""),p(""),C(!1)},L=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:if(m){e.next=4;break}return e.abrupt("return");case 4:if(v){e.next=6;break}return e.abrupt("return");case 6:return C(!0),e.prev=7,e.next=10,d()({url:"/register",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},data:JSON.stringify({username:a,password:m,confirm:v})});case 10:return t=e.sent,e.next=13,t.data;case 13:(n=e.sent)&&n.success?(h.isLoggedIn=!0,h.username=n.username):n&&!1===n.success&&(I(),alert(n.msg)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),I();case 20:case"end":return e.stop()}}),e,null,[[7,17]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"register"},r.a.createElement(b.a,{container:!0,spacing:0,justify:"center",direction:"row"},r.a.createElement(b.a,{item:!0},r.a.createElement(b.a,{container:!0,direction:"column",justify:"center",spacing:2,className:"login-form"},r.a.createElement(O.a,{variant:"elevation",elevation:2,className:"login-background"},r.a.createElement(b.a,{item:!0},r.a.createElement(j.a,{component:"h1",variant:"h5"},"Sign Up")),r.a.createElement(b.a,{item:!0},r.a.createElement("form",null,r.a.createElement(b.a,{container:!0,direction:"column",spacing:2},r.a.createElement(b.a,{item:!0},r.a.createElement(x.a,{required:!0,name:"username",label:"username",autoComplete:"username",variant:"outlined",value:a||"",onChange:N})),r.a.createElement(b.a,{item:!0},r.a.createElement(x.a,{required:!0,name:"password",label:"password",type:"password",variant:"outlined",value:m||"",onChange:N})),r.a.createElement(b.a,{item:!0},r.a.createElement(x.a,{required:!0,name:"confirm",label:"confirm password",type:"password",variant:"outlined",value:v||"",onChange:N})),r.a.createElement(b.a,{item:!0},r.a.createElement(E,{text:"Register",disabled:k,onClick:function(){return L()}}))))),r.a.createElement(b.a,{item:!0},"Already a member? ",r.a.createElement("a",{href:"#"},"Sign In")))))))},k=a(82),C=a.n(k),N=a(191),I=a(176),L=Object(I.a)((function(e){return{search:{position:"relative"},searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputInput:{padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"}}}));var A=function(e){var t=e.search,a=e.setSearch,n=L();return r.a.createElement("div",{className:n.search},r.a.createElement("div",{className:n.searchIcon},r.a.createElement(C.a,null)),r.a.createElement(N.a,{placeholder:"Search\u2026",name:"search",value:t,onChange:function(e){var t=e.target.value;a(t)},classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"}}))};function B(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),i=Object(u.a)(c,2),s=i[0],m=i[1],p=Object(n.useState)([]),g=Object(u.a)(p,2),f=g[0],h=g[1];return Object(n.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),m(!1),e.prev=2,e.next=5,d.a.get("https://tools.cdc.gov/api/v2/resources/media?max=1000");case 5:t=e.sent,h(t.data.results),r(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),m(!0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),{loading:a,error:s,articles:f,setArticles:h}}var P=a(177),D=a(178),q=a(192);var R=Object(I.a)((function(e){return{root:{display:"flex",margin:10},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto",maxWidth:1e3},chip:{margin:10}}}));var W=function(e){var t=e.article,a=R(),n=t.name,c=t.description,i=t.datePublished,s=t.tags,o=t.owningOrgId,l=t.sourceUrl;return r.a.createElement(P.a,{className:a.root,variant:"outlined"},r.a.createElement("div",{className:a.details},r.a.createElement(D.a,{className:a.content},r.a.createElement(j.a,{variant:"h5",component:"h2",gutterBottom:!0},r.a.createElement(w.a,{href:l,target:"blank",color:"inherit",underline:"none"},n)),r.a.createElement(j.a,{color:"textSecondary",gutterBottom:!0},o," \u2022 Published: ",function(e){var t=new Date(e).getFullYear(),a=new Date(e).getMonth(),n=new Date(e).getDate();return"".concat(a,"-").concat(n,"-").concat(t)}(i)),s.map((function(e){return r.a.createElement(q.a,{className:a.chip,size:"small",label:e.name,variant:"outlined",clickable:!0,color:"primary",key:e.id})})),r.a.createElement(j.a,null,c))))};var J=function(e){var t=e.articles;return B().loading?r.a.createElement("p",null,"Loading..."):r.a.createElement("div",null,t.map((function(e){return r.a.createElement(W,{article:e,key:e.id})})))},M=a(188),T=a(47),U=a(63),H=a(3),F=a(18),G=a(190),z=a(180),Y=a(181),$=a(179),K=a(174),Q=a(183),V=a(182),X=a(83),Z=a.n(X),_=a(84),ee=a.n(_),te=a(85),ae=a.n(te),ne=a(184),re=a(185),ce=a(186),ie=a(64),se=a.n(ie),oe=a(86),le=a.n(oe),ue=Object(I.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:240},title:{flexGrow:1,textAlign:"center"},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(U.a)(Object(U.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-start"}),content:{flexGrow:1,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginRight:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}}));function me(){var e=ue(),t=Object(F.a)(),a=r.a.useState(!1),n=Object(u.a)(a,2),c=n[0],i=n[1];return r.a.createElement("div",{className:e.root},r.a.createElement($.a,null),r.a.createElement(z.a,{position:"fixed",className:Object(H.a)(e.appBar,Object(T.a)({},e.appBarShift,c))},r.a.createElement(Y.a,null,r.a.createElement(j.a,{variant:"h6",noWrap:!0,className:e.title},"CDC Content"),r.a.createElement(V.a,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:function(){i(!0)},className:Object(H.a)(c&&e.hide)},r.a.createElement(Z.a,null)))),r.a.createElement("main",{className:Object(H.a)(e.content,Object(T.a)({},e.contentShift,c))},r.a.createElement("div",{className:e.drawerHeader})),r.a.createElement(G.a,{className:e.drawer,variant:"persistent",anchor:"right",open:c,classes:{paper:e.drawerPaper}},r.a.createElement("div",{className:e.drawerHeader},r.a.createElement(V.a,{onClick:function(){i(!1)}},"rtl"===t.direction?r.a.createElement(ee.a,null):r.a.createElement(ae.a,null))),r.a.createElement(Q.a,null),r.a.createElement(K.a,null,["My List","Profile Info"].map((function(e,t){return r.a.createElement(ne.a,{button:!0,key:e},r.a.createElement(re.a,null,t%2===0?r.a.createElement(se.a,null):r.a.createElement(le.a,null)),r.a.createElement(ce.a,{primary:e}))}))),r.a.createElement(Q.a,null),r.a.createElement(K.a,null,r.a.createElement(ne.a,null,r.a.createElement(re.a,null,r.a.createElement(se.a,null)),r.a.createElement(ce.a,null,"Sign Out")))))}var de=Object(p.a)((function(){var e=B().articles,t=Object(n.useState)(""),a=Object(u.a)(t,2),c=a[0],i=a[1],s=Object(n.useState)(1),m=Object(u.a)(s,2),p=m[0],g=m[1],f=Object(n.useState)(20),v=Object(u.a)(f,1)[0],b=Object(n.useState)([]),j=Object(u.a)(b,2),O=j[0],w=j[1],x=p*v,k=x-v,C=O.slice(k,x),N=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({url:"/isLoggedIn",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.data;case 6:(a=e.sent)&&a.success?(console.log("UserStore.isLoggedIn",h.isLoggedIn),h.loading=!1,h.isLoggedIn=!0,h.username=a.username,console.log("UserStore.isLoggedIn",h.isLoggedIn)):(h.loading=!1,h.isLoggedIn=!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),h.loading=!1,h.isLoggedIn=!1;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){N()}),[]);var I=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({url:"/logOut",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.data;case 6:(a=e.sent)&&a.success&&(h.isLoggedIn=!1,h.username=""),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){w(e.filter((function(e){return e.name.toLowerCase().includes(c.toLowerCase())}))),g(1)}),[c,e]),h.loading?r.a.createElement("div",{className:"App"},r.a.createElement("p",null,"Loading...")):h.isLoggedIn?r.a.createElement("div",{className:"App"},r.a.createElement("p",null,"Welcome, ",h.username),r.a.createElement(E,{text:"Log Out",disabed:!1,onClick:function(){return I()}}),r.a.createElement(me,null),r.a.createElement(A,{search:c,setSearch:i}),r.a.createElement(M.a,{count:Math.ceil(O.length/v),page:p,onChange:function(e,t){g(t)}}),r.a.createElement(J,{articles:C})):r.a.createElement("div",{className:"App"},r.a.createElement(y,null),r.a.createElement(S,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},62:function(e,t,a){},98:function(e,t,a){e.exports=a(125)}},[[98,1,2]]]);
//# sourceMappingURL=main.1967086e.chunk.js.map