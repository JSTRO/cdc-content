(this["webpackJsonpcdc-content"]=this["webpackJsonpcdc-content"]||[]).push([[0],{119:function(e,t,a){e.exports=a(147)},124:function(e,t,a){},147:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),i=a.n(c),s=(a(124),a(13)),l=a.n(s),o=a(19),u=a(11),m=a(16),d=a.n(m),p=a(48),g=a(14),f=a(25),b=a(93),h=a(7),v=new function e(){var t=this;Object(b.a)(this,e),this.login=Object(o.a)(l.a.mark((function e(){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({url:"/isLoggedIn",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return a=e.sent,e.next=6,a.data;case 6:(n=e.sent)&&n.success?Object(h.n)((function(){t.loading=!1,t.isLoggedIn=!0,t.username=n.username,t.getListItems()})):Object(h.n)((function(){t.loading=!1,t.isLoggedIn=!1})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Object(h.n)((function(){t.loading=!1,t.isLoggedIn=!1}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),this.getListItems=Object(o.a)(l.a.mark((function e(){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({url:"/list",method:"get",params:{username:t.username}});case 3:return a=e.sent,e.next=6,a.data;case 6:(n=e.sent)&&n.success?Object(h.n)((function(){t.loading=!1,t.list=n.data})):Object(h.n)((function(){t.loading=!1})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Object(h.n)((function(){t.loading=!1}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Object(h.h)(this,{loading:!0,isLoggedIn:!1,username:"",list:[]})},E=a(211),j=a(187),O=a(190),x=Object(j.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}}));var w=function(e){var t=e.text,a=e.disabled,n=e.color,c=e.onClick,i=x();return r.a.createElement("div",{className:i.root},r.a.createElement(O.a,{variant:"contained",color:n,type:"submit",className:"button-block",disabled:a,onClick:function(){return c()}},t))},y=a(192),S=a(59),k=a(105);a(74);var C=Object(f.a)((function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),s=Object(u.a)(i,2),m=s[0],g=s[1],f=Object(n.useState)(!1),b=Object(u.a)(f,2),h=b[0],j=b[1],O=function(e){var t=e.target,a=t.name,n=t.value;(n=n.trim()).length>12||("username"===a?c(n):g(n))},x=function(){c(""),g(""),j(!1)},C=function(){var e=Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:if(m){e.next=4;break}return e.abrupt("return");case 4:return j(!0),e.prev=5,e.next=8,d()({url:"/login",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},data:JSON.stringify({username:a,password:m})});case 8:return t=e.sent,e.next=11,t.data;case 11:(n=e.sent)&&n.success?(v.isLoggedIn=!0,v.username=n.username):n&&!1===n.success&&(x(),alert(n.msg)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),x();case 18:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"login"},r.a.createElement(y.a,{container:!0,spacing:0,justify:"center",direction:"row"},r.a.createElement(y.a,{item:!0},r.a.createElement(y.a,{container:!0,direction:"column",justify:"center",spacing:2,className:"login-form"},r.a.createElement(k.a,{variant:"elevation",elevation:2,className:"login-background"},r.a.createElement(y.a,{item:!0},r.a.createElement(S.a,{component:"h1",variant:"h5"},"Sign in")),r.a.createElement(y.a,{item:!0},r.a.createElement("form",null,r.a.createElement(y.a,{container:!0,direction:"column",spacing:2},r.a.createElement(y.a,{item:!0},r.a.createElement(E.a,{required:!0,name:"username",label:"username",autoComplete:"username",variant:"outlined",value:a||"",onChange:O})),r.a.createElement(y.a,{item:!0},r.a.createElement(E.a,{required:!0,name:"password",label:"password",type:"password",autoComplete:"current-password",variant:"outlined",value:m||"",onChange:O})),r.a.createElement(y.a,{item:!0},r.a.createElement(w,{text:"Log in",color:"primary",disabled:h,onClick:function(){return C()}}))))),r.a.createElement(y.a,{item:!0},r.a.createElement(p.b,{to:"/register"},"Sign Up")),r.a.createElement(y.a,{item:!0},"Forgot Password?"))))))}));var N=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),s=Object(u.a)(i,2),m=s[0],g=s[1],f=Object(n.useState)(""),b=Object(u.a)(f,2),h=b[0],v=b[1],j=Object(n.useState)(!1),O=Object(u.a)(j,2),x=O[0],C=O[1],N=function(e){var t=e.target,a=t.name,n=t.value;(n=n.trim()).length>12||("username"===a?c(n):"password"===a?g(n):v(n))},L=function(){c(""),g(""),C(!1)},I=function(){var e=Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:if(m){e.next=4;break}return e.abrupt("return");case 4:if(h){e.next=6;break}return e.abrupt("return");case 6:return C(!0),e.prev=7,e.next=10,d()({url:"/register",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},data:JSON.stringify({username:a,password:m,confirm:h})});case 10:return t=e.sent,e.next=13,t.data;case 13:(n=e.sent)&&n.success?alert(n.msg):n&&!1===n.success&&(L(),alert(n.msg)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),L();case 20:case"end":return e.stop()}}),e,null,[[7,17]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"register"},r.a.createElement(y.a,{container:!0,spacing:0,justify:"center",direction:"row"},r.a.createElement(y.a,{item:!0},r.a.createElement(y.a,{container:!0,direction:"column",justify:"center",spacing:2,className:"login-form"},r.a.createElement(k.a,{variant:"elevation",elevation:2,className:"login-background"},r.a.createElement(y.a,{item:!0},r.a.createElement(S.a,{component:"h1",variant:"h5"},"Sign Up")),r.a.createElement(y.a,{item:!0},r.a.createElement("form",null,r.a.createElement(y.a,{container:!0,direction:"column",spacing:2},r.a.createElement(y.a,{item:!0},r.a.createElement(E.a,{required:!0,name:"username",label:"username",autoComplete:"username",variant:"outlined",value:a||"",onChange:N})),r.a.createElement(y.a,{item:!0},r.a.createElement(E.a,{required:!0,name:"password",label:"password",type:"password",variant:"outlined",value:m||"",onChange:N})),r.a.createElement(y.a,{item:!0},r.a.createElement(E.a,{required:!0,name:"confirm",label:"confirm password",type:"password",variant:"outlined",value:h||"",onChange:N})),r.a.createElement(y.a,{item:!0},r.a.createElement(w,{text:"Register",color:"primary",disabled:x,onClick:function(){return I()}}))))),r.a.createElement(y.a,{item:!0},"Already a member? ",r.a.createElement(p.b,{to:"/"},"Sign In")))))))},L=a(45),I=a(95),T=a.n(I),A=a(196),D=a(106);function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://tools.cdc.gov/api/v2/resources/media",t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(!1),s=Object(u.a)(i,2),l=s[0],o=s[1],m=Object(n.useState)([]),p=Object(u.a)(m,2),g=p[0],f=p[1],b=Object(n.useState)([]),h=Object(u.a)(b,2),v=(h[0],h[1],Object(n.useState)("")),E=Object(u.a)(v,2),j=E[0],O=E[1];return Object(n.useEffect)((function(){var t;return c(!0),o(!1),d()({method:"GET",url:e,params:{q:j,language:"english",max:10},cancelToken:new d.a.CancelToken((function(e){return t=e}))}).then((function(e){f(e.data.results),c(!1)})).catch((function(e){d.a.isCancel(e)||o(!0)})),function(){return t()}}),[j]),{loading:r,error:l,articles:g,setArticles:f,search:j,setSearch:O}}var P=a(8),R=Object(j.a)((function(e){return{search:Object(L.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(P.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(P.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},iconButton:{padding:10},inputInput:{padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"}}}));var J=function(e){var t=e.search,a=e.setSearch,n=R();return r.a.createElement(k.a,{className:n.search},r.a.createElement(A.a,{type:"submit",className:n.iconButton,"aria-label":"search"},r.a.createElement(T.a,null)),r.a.createElement(D.a,{placeholder:"Search\u2026",name:"search",value:t,onChange:function(e){var t=e.target.value;a(t)},classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"}}))},q=a(197),M=a(198),W=a(199),U=a(103),H=a(213),z=Object(j.a)((function(){return{chip:{margin:10}}}));var F=function(e){var t=e.tag,a=e.setTagList,n=z();return r.a.createElement(H.a,{className:n.chip,size:"small",variant:"outlined",label:t.name,onClick:function(){a((function(e){return e.includes(t)?e:[].concat(Object(U.a)(e),[t])}))},color:"primary",key:t.id})},G=a(96),_=a.n(G);var Y=function(e){var t=e.addToList,a=e.isBtnDisabled;return r.a.createElement("div",null,r.a.createElement(A.a,{color:"primary","aria-label":"add to list",onClick:t,disabled:a},r.a.createElement(_.a,null)),a?"Added to list":"Add to my list")};function $(e){var t=new Date(e).getFullYear(),a=new Date(e).getMonth(),n=new Date(e).getDate();return"".concat(K[a]," ").concat(n,", ").concat(t)}var K=["January","February","March","April","May","June","July","August","September","October","November","December"],Q=a(97),V=a.n(Q),X=Object(j.a)((function(e){return{root:{display:"flex",margin:10},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto",maxWidth:1e3},chip:{margin:10}}}));var Z=Object(f.a)((function(e){var t=e.article,a=e.setTagList,c=X(),i=t.id,s=t.name,m=t.description,p=t.datePublished,g=t.tags,f=t.owningOrgId,b=t.sourceUrl,h={__html:V.a.sanitize(t.name)},E=Object(n.useState)(!1),j=Object(u.a)(E,2),O=j[0],x=j[1];function w(){return(w=Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({url:"/list",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},data:JSON.stringify({username:v.username,listID:i,name:s,sourceUrl:b})});case 3:return t=e.sent,e.next=6,t.data;case 6:(a=e.sent)&&a.success?(v.loading=!1,x(!0),v.list.push(a)):v.loading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),v.loading=!1;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var y=g.map((function(e){return r.a.createElement(F,{key:e.id,tag:e,setTagList:a})}));return r.a.createElement(q.a,{className:c.root,variant:"outlined"},r.a.createElement("div",{className:c.details},r.a.createElement(M.a,{className:c.content},r.a.createElement(S.a,{variant:"h5",component:"h2",gutterBottom:!0},r.a.createElement(W.a,{href:b,target:"blank",color:"inherit",underline:"none",dangerouslySetInnerHTML:h})),r.a.createElement(S.a,{color:"textSecondary",gutterBottom:!0},f?"".concat(f," \u2022 ").concat($(p)):$(p)),y,r.a.createElement(S.a,null,m),v.isLoggedIn&&r.a.createElement(Y,{addToList:function(){return w.apply(this,arguments)},isBtnDisabled:O}))))}));var ee=function(e){var t=e.articles,a=e.setTagList;return B().loading?r.a.createElement("p",null,"Loading..."):r.a.createElement("div",null,t.map((function(e){return r.a.createElement(Z,{article:e,key:e.id,setTagList:a})})))},te=Object(j.a)((function(){return{chip:{margin:10}}}));var ae=function(e){var t=e.tag,a=e.setTagList,n=te();return r.a.createElement(H.a,{className:n.chip,size:"small",variant:"outlined",label:t.name,color:"primary",key:t.id,onDelete:function(){a((function(e){return e.filter((function(e){return e.name!==t.name}))}))}})},ne=a(209),re=a(207),ce=a(77),ie=a(3),se=a(21),le=a(212),oe=a(202),ue=a(203),me=a(201),de=a(195),pe=a(200),ge=a(98),fe=a.n(ge),be=Object(j.a)((function(e){return{details:{display:"flex",flexDirection:"column"},card:{display:"flex",margin:10,padding:0},cardContent:{display:"flex",flex:"1 0 auto",padding:0,maxWidth:1e3}}}));var he=Object(f.a)((function(e){var t=e.item,a=e.store,n=be();return r.a.createElement(q.a,{className:n.card,variant:"outlined"},r.a.createElement("div",{className:n.details},r.a.createElement(M.a,{className:n.cardContent},r.a.createElement(pe.a,null,r.a.createElement(W.a,{color:"inherit",href:t?t.sourceUrl:"",target:"",underline:"none"},t?t.name:"test")),r.a.createElement(A.a,{"aria-label":"delete",onClick:function(){a.list.filter((function(e){return e.name!==t.name}))}},r.a.createElement(fe.a,null)))))}));var ve=Object(f.a)((function(e){var t=e.store;return B().loading?r.a.createElement("p",null,"Loading..."):r.a.createElement("div",null,t.list.map((function(e){return r.a.createElement(he,{item:e})})))})),Ee=a(204),je=a(99),Oe=a.n(je),xe=a(100),we=a.n(xe),ye=a(101),Se=a.n(ye),ke=a(205),Ce=a(206),Ne=a(102),Le=a.n(Ne);function Ie(){return(Ie=Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({url:"/logOut",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.data;case 6:(a=e.sent)&&a.success&&(v.isLoggedIn=!1,v.username=""),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var Te=Object(j.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(360,"px)"),transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:360},title:{flexGrow:1},hide:{display:"none"},drawer:{width:360,flexShrink:0},drawerPaper:{width:360},details:{display:"flex",flexDirection:"column"},card:{display:"flex",margin:10,padding:0},cardContent:{display:"flex",flex:"1 0 auto",padding:0,maxWidth:1e3},drawerHeader:Object(ce.a)(Object(ce.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-start"}),content:{flexGrow:1,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginRight:-360},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}}));var Ae=Object(f.a)((function(e){e.search,e.setSearch;var t=Te(),a=Object(se.a)(),c=Object(n.useState)(!1),i=Object(u.a)(c,2),s=i[0],l=i[1];return r.a.createElement("div",{className:t.root},r.a.createElement(me.a,null),r.a.createElement(oe.a,{position:"fixed",className:Object(ie.a)(t.appBar,Object(L.a)({},t.appBarShift,s))},r.a.createElement(ue.a,null,r.a.createElement(S.a,{variant:"h6",noWrap:!0,className:t.title},"CDC Content"),r.a.createElement(A.a,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:function(){l(!0)},className:Object(ie.a)(s&&t.hide)},r.a.createElement(Oe.a,null)))),r.a.createElement("main",{className:Object(ie.a)(t.content,Object(L.a)({},t.contentShift,s))},r.a.createElement("div",{className:t.drawerHeader})),r.a.createElement(le.a,{className:t.drawer,variant:"persistent",anchor:"right",open:s,classes:{paper:t.drawerPaper}},r.a.createElement("div",{className:t.drawerHeader},r.a.createElement(A.a,{onClick:function(){l(!1)}},"rtl"===a.direction?r.a.createElement(we.a,null):r.a.createElement(Se.a,null)),r.a.createElement("p",null,"Welcome, ",v.username)),r.a.createElement(Ee.a,null),r.a.createElement(de.a,null,r.a.createElement(pe.a,{button:!0},r.a.createElement(ke.a,null,r.a.createElement(Le.a,null)),r.a.createElement(Ce.a,{primary:"My List"})),r.a.createElement(ve,{store:v})),r.a.createElement(Ee.a,null),r.a.createElement(de.a,null,r.a.createElement(pe.a,null,r.a.createElement(Ce.a,null,r.a.createElement(w,{text:"Log Out",color:"secondary",disabed:!1,onClick:function(){return function(){return Ie.apply(this,arguments)}()}}))))))}));var De=Object(f.a)((function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!1),s=Object(u.a)(i,2),m=(s[0],s[1]),f=Object(n.useState)(!1),b=Object(u.a)(f,2),h=(b[0],b[1]),E=Object(n.useState)([]),j=Object(u.a)(E,2),O=j[0],x=j[1],w=Object(n.useState)([]),S=Object(u.a)(w,2),k=(S[0],S[1],Object(n.useState)("")),L=Object(u.a)(k,2),I=L[0],T=L[1],A=Object(n.useState)(0),D=Object(u.a)(A,2),B=D[0],P=D[1],R=Object(n.useState)(1),q=Object(u.a)(R,2),M=(q[0],q[1],Object(n.useState)(10)),W=Object(u.a)(M,2),U=W[0],H=W[1],z=Math.ceil(O.length),F=(B+1)*U,G=F-U,_=O.slice(G,F),Y=function(e,t){P(t)};return Object(n.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),h(!1),e.prev=2,e.next=5,d.a.get("https://tools.cdc.gov/api/v2/resources/media",{params:{q:I,language:"english",max:100,offset:F-10,pagenum:B+1}});case 5:t=e.sent,x(t.data.results),m(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),h(!0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}})()()}),[I,U,B]),Object(n.useEffect)((function(){v.login()}),[]),v.loading?r.a.createElement("div",{className:"App"},r.a.createElement("p",null,"Loading...")):v.isLoggedIn?r.a.createElement("div",{className:"App"},r.a.createElement(Ae,{search:I,setSearch:T}),r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,xs:6},r.a.createElement(J,{search:I,setSearch:T})),r.a.createElement(y.a,{item:!0,xs:6},r.a.createElement(re.a,{component:"div",className:"pagination",count:z,page:B,onChangePage:Y,rowsPerPage:U,onChangeRowsPerPage:function(e){var t=e.target.value;H(parseInt(t)),P(0)}}))),a.map((function(e){return r.a.createElement(ae,{tag:e,setTagList:c})})),r.a.createElement(ee,{articles:_,setArticles:x,setTagList:c,search:I,setSearch:T}),r.a.createElement(ne.a,{count:U,page:B,onChange:Y})):r.a.createElement("div",{className:"App"},r.a.createElement(p.a,null,r.a.createElement(g.c,null,r.a.createElement(g.a,{exact:!0,path:"/register"},r.a.createElement(N,null)),r.a.createElement(g.a,{exact:!0,path:"/"},r.a.createElement(C,null)))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(De,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},74:function(e,t,a){}},[[119,1,2]]]);
//# sourceMappingURL=main.20bc7df9.chunk.js.map