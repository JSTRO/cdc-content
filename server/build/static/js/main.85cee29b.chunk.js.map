{"version":3,"sources":["stores/UserStore.js","components/InputField.js","components/Submit.js","components/Login.js","components/Search.js","hooks/useAPI.js","components/Article.js","utils/formatDate.js","components/ArticleList.js","components/Drawer.js","App.js","serviceWorker.js","index.js"],"names":["extendObservable","this","loading","isLoggedIn","username","InputField","type","placeholder","value","onChange","className","e","target","Submit","text","disabled","onClick","Login","useState","setUsername","password","setPassword","buttonDisabled","setButtonDisabled","setInputValue","property","val","trim","length","resetForm","doLogin","a","axios","url","method","headers","data","JSON","stringify","res","result","success","UserStore","console","log","alert","msg","useStyles","makeStyles","theme","search","position","searchIcon","width","spacing","height","pointerEvents","display","alignItems","justifyContent","inputInput","padding","transition","transitions","create","Search","setSearch","classes","InputBase","name","event","root","inputRoot","input","inputProps","useAPI","setLoading","error","setError","articles","setArticles","useEffect","get","results","getResults","margin","details","flexDirection","content","flex","maxWidth","chip","Article","article","description","datePublished","tags","owningOrgId","sourceUrl","Card","variant","CardContent","Typography","component","gutterBottom","Link","href","color","underline","date","y","Date","getFullYear","m","getMonth","d","getDate","formatDate","map","tag","Chip","size","label","clickable","key","id","ArticleList","appBar","easing","sharp","duration","leavingScreen","appBarShift","easeOut","enteringScreen","marginRight","title","flexGrow","textAlign","hide","drawer","flexShrink","drawerPaper","drawerHeader","mixins","toolbar","contentShift","PersistentDrawerRight","useTheme","React","open","setOpen","CssBaseline","AppBar","clsx","Toolbar","noWrap","IconButton","aria-label","edge","Drawer","anchor","paper","direction","Divider","List","index","ListItem","button","ListItemIcon","ListItemText","primary","observer","currentPage","setCurrentPage","articlesPerPage","filteredArticles","setFilteredArticles","indexOfLastPost","indexOfFirstPost","currentArticles","slice","logIn","logOut","filter","toLowerCase","includes","disabed","Pagination","count","Math","ceil","page","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.85cee29b.chunk.js","sourcesContent":["import { extendObservable } from 'mobx'\n\nclass UserStore {\n\tconstructor() {\n\t\textendObservable(this, {\n\t\t\tloading: true,\n\t\t\tisLoggedIn: false,\n\t\t\tusername: ''\n\t\t})\n\t}\n}\n\nexport default new UserStore()","import React from 'react'\n\nfunction InputField({type, placeholder, value, onChange}) {\n\treturn (\n\t\t<div className=\"input\">\n\t\t\t<input\n\t\t\t\ttype={type}\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\tvalue={value}\n\t\t\t\tonChange={(e) => onChange(e.target.value)}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default InputField","import React from 'react'\n\nfunction Submit({text, disabled, onClick}) {\n\n\treturn (\n\t\t<div className=\"submit\">\n\t\t\t<button\n\t\t\t\ttext={text}\n\t\t\t\tdisabled={disabled}\n\t\t\t\tonClick={() => onClick()}\n\t\t\t>\n\t\t\t\t{text}\n\t\t\t</button>\n\t\t</div>\n\t)\n}\n\nexport default Submit","import React, { useState } from 'react'\nimport axios from 'axios'\nimport InputField from './InputField'\nimport Submit from './Submit'\nimport UserStore from '../stores/UserStore'\n\nfunction Login() {\n\tconst [username, setUsername] = useState('')\n\tconst [password, setPassword] = useState('')\n\tconst [buttonDisabled, setButtonDisabled] = useState(false)\n\n\tconst setInputValue = (property, val) => {\n\t\tval = val.trim()\n\t\tif (val.length > 12) {\n\t\t\treturn\n\t\t}\n\t\tproperty === 'username' ? setUsername(val) : setPassword(val)\n\t}\n\n\tconst resetForm = () => {\n\t\tsetUsername('')\n\t\tsetPassword('')\n\t\tsetButtonDisabled(false)\n\t}\n\n\tconst doLogin = async () => {\n\t\tif (!username) return\n\t\tif (!password) return\n\t\tsetButtonDisabled(true)\n\n\t\ttry {\n\t\t\tlet res = await axios({\n\t\t\t\turl: '/login',\n\t\t\t\tmethod: 'post',\n\t\t\t\theaders: { \n\t      \t'Accept': 'application/json', \n\t      \t'Content-Type': 'application/json' \n\t      },\n\t      data: JSON.stringify({\n\t      \tusername: username,\n\t      \tpassword: password\n\t      })\n\t\t\t})\n\n\t\t\tlet result = await res.data\n\n\t\t\tif (result && result.success) {\n        UserStore.isLoggedIn = true\n        UserStore.username = result.username\n        console.log(UserStore.isLoggedIn, \"UserStore.isLoggedIn\")\n      } else if (result && result.success === false) {\n      \t\tresetForm()\n      \t\talert(result.msg)\n      }\n\t  } catch(err) {\n\t  \t\tresetForm()\n\t  }\n\t}\n\n\treturn (\n\t\t<div className=\"login\">\n\t\t\t<InputField \n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder='Username' \n\t\t\t\tvalue={username ? username : ''}\n\t\t\t\tonChange={(val) => setInputValue('username', val)}\n\t\t\t/>\n\t\t\t<InputField \n\t\t\t\ttype=\"password\"\n\t\t\t\tplaceholder='Password' \n\t\t\t\tvalue={password ? password : ''}\n\t\t\t\tonChange={(val) => setInputValue('password', val)}\n\t\t\t/>\n\t\t\t<Submit \n\t\t\t\ttext='Log in'\n\t\t\t\tdisabled={buttonDisabled}\n\t\t\t\tonClick={() => doLogin()}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default Login","import React from 'react'\nimport SearchIcon from '@material-ui/icons/Search'\nimport InputBase from '@material-ui/core/InputBase'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme) => ({\n  search: {\n    position: 'relative',\n  },\n  searchIcon: {\n    width: theme.spacing(7),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 7),\n    transition: theme.transitions.create('width'),\n    width: '100%',\n  },\n}))\n\nfunction Search({search, setSearch}) {\n  const classes = useStyles()\n\n  const handleSearch = (event) => {\n    const { value } = event.target\n    setSearch(value)\n  }\n\n  return (\n    <div className={classes.search}>\n      <div className={classes.searchIcon}>\n        <SearchIcon />\n      </div>\n      <InputBase\n        placeholder=\"Search…\"\n        name=\"search\"\n        value={search}\n        onChange={handleSearch}\n        classes={{\n          root: classes.inputRoot,\n          input: classes.inputInput,\n        }}\n        inputProps={{ 'aria-label': 'search' }}\n      />\n    </div>\n  )\n}\n\nexport default Search\n\n","import { useState, useEffect } from 'react'\nimport axios from 'axios'\n\nexport default function useAPI() {\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(false)\n  const [articles, setArticles] = useState([])\n\n  useEffect(() => {\n    const getResults = async () => {\n      setLoading(true)\n      setError(false)\n      try {\n        const res = await axios.get('https://tools.cdc.gov/api/v2/resources/media?max=1000')\n        setArticles(res.data.results)\n        setLoading(false)\n      } catch(err) {\n        setError(true)\n      }\n    }\n    getResults()\n  }, [])\n\n  return { loading, error, articles, setArticles }\n}","import React from 'react'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport Typography from '@material-ui/core/Typography'\nimport Link from '@material-ui/core/Link'\nimport Chip from '@material-ui/core/Chip'\nimport { makeStyles } from '@material-ui/core/styles'\nimport formatDate from '../utils/formatDate.js'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    margin: 10,\n  },\n  details: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  content: {\n    flex: '1 0 auto',\n    maxWidth: 1000\n  },\n  chip: {\n  \tmargin: 10\n  }\n}))\n\nfunction Article({article}) {\n\tconst classes = useStyles()\n\tconst { name, description, datePublished, tags, owningOrgId, sourceUrl } = article\n\n\treturn (\n\t\t<Card className={classes.root} variant=\"outlined\">\n\t\t\t<div className={classes.details}>\n\t    \t<CardContent className={classes.content}>\t\n\t    \t\t<Typography variant=\"h5\" component=\"h2\" gutterBottom>\n          \t<Link href={sourceUrl} target=\"blank\" color=\"inherit\" underline=\"none\">{name}</Link>\n        \t</Typography>\n        \t<Typography color=\"textSecondary\" gutterBottom>\n          \t{owningOrgId} • Published: {formatDate(datePublished)}\n        \t</Typography>\n        \t{tags.map(tag => (\n        \t\t<Chip \n        \t\t\tclassName={classes.chip}\n        \t\t\tsize=\"small\"\n        \t\t\tlabel={tag.name} \n        \t\t\tvariant=\"outlined\"\n        \t\t\tclickable\n        \t\t\tcolor=\"primary\"\n        \t\t\tkey={tag.id}\n        \t\t/>\n        \t))}\n        \t<Typography>\n          \t{description}\n        \t</Typography>\n\t    \t</CardContent>\t\n    \t</div>\n    </Card>\t\n\t)\n}\n\nexport default Article","export default function formatDate(date) {\n\tconst y = new Date(date).getFullYear()\n\tconst m = new Date(date).getMonth()\n\tconst d = new Date(date).getDate()\n\treturn `${m}-${d}-${y}`\n}","import React from 'react'\nimport useAPI from '../hooks/useAPI'\nimport Article from './Article'\n\nfunction ArticleList({articles}) {\n\tconst { loading } = useAPI()\n\n\tif (loading) {\n\t\treturn <p>Loading...</p>\n\t}\n\treturn (\n\t\t<div>\n\t\t\t{articles.map(article => <Article article={article} key={article.id} />)}\n\t\t</div>\t\n\t)\n}\n\nexport default ArticleList","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport List from '@material-ui/core/List';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport MailIcon from '@material-ui/icons/Mail';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginRight: drawerWidth,\n  },\n  title: {\n    flexGrow: 1,\n    textAlign: 'center'\n  },\n  hide: {\n    display: 'none',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-start',\n  },\n  content: {\n    flexGrow: 1,\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginRight: -drawerWidth,\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginRight: 0,\n  },\n}));\n\nexport default function PersistentDrawerRight() {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [open, setOpen] = React.useState(false);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar\n        position=\"fixed\"\n        className={clsx(classes.appBar, {\n          [classes.appBarShift]: open,\n        })}\n      >\n        <Toolbar>\n          <Typography variant=\"h6\" noWrap className={classes.title}>\n            CDC Content\n          </Typography>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            edge=\"end\"\n            onClick={handleDrawerOpen}\n            className={clsx(open && classes.hide)}\n          >\n            <MenuIcon />\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n      <main\n        className={clsx(classes.content, {\n          [classes.contentShift]: open,\n        })}\n      >\n        <div className={classes.drawerHeader} />\n     \n      </main>\n      <Drawer\n        className={classes.drawer}\n        variant=\"persistent\"\n        anchor=\"right\"\n        open={open}\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n      >\n        <div className={classes.drawerHeader}>\n          <IconButton onClick={handleDrawerClose}>\n            {theme.direction === 'rtl' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          {['My List', 'Profile Info'].map((text, index) => (\n            <ListItem button key={text}>\n              <ListItemIcon>{index % 2 === 0 ? <InboxIcon /> : <MailIcon />}</ListItemIcon>\n              <ListItemText primary={text} />\n            </ListItem>\n          ))}\n        </List>\n        <Divider />\n        <List>\n          <ListItem>\n            <ListItemIcon><InboxIcon /></ListItemIcon>\n            <ListItemText>Sign Out</ListItemText>\n          </ListItem>\n        </List>\n      </Drawer>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { observer } from 'mobx-react'\nimport UserStore from './stores/UserStore'\nimport Login from './components/Login'\nimport Submit from './components/Submit'\nimport Search from './components/Search'\nimport ArticleList from './components/ArticleList'\nimport Pagination from '@material-ui/lab/Pagination'\nimport Drawer from './components/Drawer'\nimport useAPI from './hooks/useAPI'\nimport './App.css'\n\nfunction App() {\n  const { articles } = useAPI()\n\n  const [search, setSearch] = useState('')\n  const [currentPage, setCurrentPage] = useState(1)\n  const [articlesPerPage] = useState(20)\n  const [filteredArticles, setFilteredArticles] = useState([])\n\n  const indexOfLastPost = currentPage * articlesPerPage\n  const indexOfFirstPost = indexOfLastPost - articlesPerPage\n  const currentArticles = filteredArticles.slice(indexOfFirstPost, indexOfLastPost)\n\n  const handleChange = (event, value) => {\n    setCurrentPage(value);\n  }\n\n  // MOVE TO SEPARATE FILE\n  const logIn = async () => {\n    try {\n      let res = await axios({\n        url: '/isLoggedIn',\n        method: 'post',\n        headers: { \n          'Accept': 'application/json', \n          'Content-Type': 'application/json' \n        }\n      })\n      \n      let result = await res.data\n      \n      if (result && result.success) {\n        console.log(\"UserStore.isLoggedIn\", UserStore.isLoggedIn)\n        UserStore.loading = false\n        UserStore.isLoggedIn = true\n        UserStore.username = result.username\n        console.log(\"UserStore.isLoggedIn\", UserStore.isLoggedIn)\n      } else {\n        UserStore.loading = false\n        UserStore.isLoggedIn = false\n      }\n      \n    } catch(err) {\n        UserStore.loading = false\n        UserStore.isLoggedIn = false\n    }\n  }\n\n  useEffect(() => {\n    logIn()\n  }, [])\n  \n  // MOVE TO SEPARATE FILE\n  const logOut = async () => {\n    try {\n      let res = await axios({\n        url: '/logOut',\n        method: 'post',\n        headers: { \n          'Accept': 'application/json', \n          'Content-Type': 'application/json' \n        }\n      })\n\n      let result = await res.data\n      \n      if (result && result.success) {\n        UserStore.isLoggedIn = false\n        UserStore.username = ''\n      } \n    } catch(err) {\n        console.log(err)\n    }\n  }\n\n  // pagination\n  useEffect(() => {\n    setFilteredArticles(articles.filter(a => {\n      return a.name.toLowerCase().includes(search.toLowerCase())\n    }))\n    setCurrentPage(1)\n  }, [search, articles])\n\n  if (UserStore.loading) {\n    return (\n      <div className=\"App\">\n        <p>Loading...</p>\n      </div>\n    )\n  } else if (!UserStore.isLoggedIn) {\n    return (\n      <div className=\"App\">\n        <Login />\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"App\">\n        <p>Welcome, {UserStore.username}</p>\n        <Submit text={'Log Out'} disabed={false} onClick={() => logOut()}/>\n        <Drawer />\n        <Search search={search} setSearch={setSearch}/>\n        <Pagination \n          count={Math.ceil(filteredArticles.length / articlesPerPage)}\n          page={currentPage}\n          onChange={handleChange}\n        />\n        <ArticleList articles={currentArticles}/>\n      </div>  \n    )\n  }\n}\n\nexport default observer(App)","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}