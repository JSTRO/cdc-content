(this["webpackJsonpcdc-content"]=this["webpackJsonpcdc-content"]||[]).push([[0],{105:function(e,t,a){e.exports=a(133)},110:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),i=a.n(c),s=(a(110),a(12)),o=a(93),l=a(85),u=a(7),d=new function e(){Object(l.a)(this,e),Object(u.h)(this,{loading:!0,isLoggedIn:!1,username:"",list:[]})},m=a(14),p=a.n(m),h=a(19),g=(a(48),a(20)),f=a.n(g),b=(a(195),a(177)),v=a(180),E=Object(b.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}}));var j=function(e){var t=e.text,a=e.disabled,n=e.color,c=e.onClick,i=E();return r.a.createElement("div",{className:i.root},r.a.createElement(v.a,{variant:"contained",color:n,type:"submit",className:"button-block",disabled:a,onClick:function(){return c()}},t))},O=(a(182),a(53));a(96),a(68);var w=a(36),y=a(87),x=a.n(y),S=a(199),k=a(9),C=Object(b.a)((function(e){return{search:Object(w.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(k.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(k.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputInput:{padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"}}}));var L=function(e){var t=e.search,a=e.setSearch,n=C();return r.a.createElement("div",{className:n.search},r.a.createElement("div",{className:n.searchIcon},r.a.createElement(x.a,null)),r.a.createElement(S.a,{placeholder:"Search\u2026",name:"search",value:t,onChange:function(e){var t=e.target.value;a(t)},classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"}}))},N=(a(94),a(184)),I=a(185),A=a(186),B=a(200),D=a(187),M=a(88),P=a.n(M);var R=Object(b.a)((function(e){return{root:{display:"flex",margin:10},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto",maxWidth:1e3},chip:{margin:10}}}));var W=function(e){var t=e.article,a=(e.setMyList,R()),c=t.id,i=t.name,o=t.description,l=t.datePublished,u=t.tags,m=t.owningOrgId,g=t.sourceUrl,b=Object(n.useState)(!1),v=Object(s.a)(b,2),E=v[0],j=v[1];function w(){return(w=Object(h.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f()({url:"/list",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},data:JSON.stringify({username:d.username,listID:c})});case 3:return t=e.sent,e.next=6,t.data;case 6:(a=e.sent)&&a.success?(d.loading=!1,j(!0),d.list.push(a.listID)):d.loading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),d.loading=!1;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return r.a.createElement(N.a,{className:a.root,variant:"outlined"},r.a.createElement("div",{className:a.details},r.a.createElement(I.a,{className:a.content},r.a.createElement(O.a,{variant:"h5",component:"h2",gutterBottom:!0},r.a.createElement(A.a,{href:g,target:"blank",color:"inherit",underline:"none"},i)),r.a.createElement(O.a,{color:"textSecondary",gutterBottom:!0},m," \u2022 Published: ",function(e){var t=new Date(e).getFullYear(),a=new Date(e).getMonth(),n=new Date(e).getDate();return"".concat(a,"-").concat(n,"-").concat(t)}(l)),u.map((function(e){return r.a.createElement(B.a,{className:a.chip,size:"small",label:e.name,variant:"outlined",clickable:!0,color:"primary",key:e.id})})),r.a.createElement(O.a,null,o),r.a.createElement(D.a,{color:"primary","aria-label":"add to list",onClick:function(){return w.apply(this,arguments)},disabled:E},r.a.createElement(P.a,null)),"  ",E?"Added to list":"Add to my list")))};function H(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),i=Object(s.a)(c,2),o=i[0],l=i[1],u=Object(n.useState)([]),d=Object(s.a)(u,2),m=d[0],g=d[1];return Object(n.useEffect)((function(){(function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),l(!1),e.prev=2,e.next=5,f.a.get("https://tools.cdc.gov/api/v2/resources/media?max=100");case 5:t=e.sent,g(t.data.results),r(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),l(!0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),{loading:a,error:o,articles:m,setArticles:g}}var J=function(e){var t=e.articles,a=e.setMyList;return H().loading?r.a.createElement("p",null,"Loading..."):r.a.createElement("div",null,t.map((function(e){return r.a.createElement(W,{article:e,key:e.id,setMyList:a})})))},T=a(196),G=a(71),z=a(3),F=a(22),U=a(198),Y=a(189),$=a(190),q=a(188),K=a(183),Q=a(191),V=a(89),X=a.n(V),Z=a(90),_=a.n(Z),ee=a(91),te=a.n(ee),ae=a(192),ne=a(193),re=a(194),ce=a(92),ie=a.n(ce);function se(){return(se=Object(h.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f()({url:"/logOut",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.data;case 6:(a=e.sent)&&a.success&&(d.isLoggedIn=!1,d.username=""),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var oe=Object(b.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:240},title:{flexGrow:1},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(G.a)(Object(G.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-start"}),content:{flexGrow:1,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginRight:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}}));function le(e){e.myList;var t=e.search,a=e.setSearch,c=oe(),i=Object(F.a)(),o=Object(n.useState)(!1),l=Object(s.a)(o,2),u=l[0],m=l[1];return r.a.createElement("div",{className:c.root},r.a.createElement(q.a,null),r.a.createElement(Y.a,{position:"fixed",className:Object(z.a)(c.appBar,Object(w.a)({},c.appBarShift,u))},r.a.createElement($.a,null,r.a.createElement(O.a,{variant:"h6",noWrap:!0,className:c.title},"CDC Content"),r.a.createElement(L,{search:t,setSearch:a}),r.a.createElement(D.a,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:function(){m(!0)},className:Object(z.a)(u&&c.hide)},r.a.createElement(X.a,null)))),r.a.createElement("main",{className:Object(z.a)(c.content,Object(w.a)({},c.contentShift,u))},r.a.createElement("div",{className:c.drawerHeader})),r.a.createElement(U.a,{className:c.drawer,variant:"persistent",anchor:"right",open:u,classes:{paper:c.drawerPaper}},r.a.createElement("div",{className:c.drawerHeader},r.a.createElement(D.a,{onClick:function(){m(!1)}},"rtl"===i.direction?r.a.createElement(_.a,null):r.a.createElement(te.a,null))),r.a.createElement(Q.a,null),r.a.createElement(K.a,null,r.a.createElement(ae.a,{button:!0},r.a.createElement(ne.a,null,r.a.createElement(ie.a,null)),r.a.createElement(re.a,{primary:"My List"})),d.list.map((function(e){return r.a.createElement(ae.a,null,e)}))),r.a.createElement(Q.a,null),r.a.createElement(K.a,null,r.a.createElement(ae.a,null,r.a.createElement(re.a,null,r.a.createElement(j,{text:"Log Out",color:"secondary",disabed:!1,onClick:function(){return function(){return se.apply(this,arguments)}()}}))))))}function ue(){return(ue=Object(h.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f()({url:"/isLoggedIn",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.data;case 6:(a=e.sent)&&a.success?(d.loading=!1,d.isLoggedIn=!0,d.username=a.username):(d.loading=!1,d.isLoggedIn=!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),d.loading=!1,d.isLoggedIn=!1;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var de=Object(o.a)((function(){var e=function(){var e=H().articles,t=Object(n.useState)(""),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(1),o=Object(s.a)(i,2),l=o[0],u=o[1],d=Object(n.useState)(20),m=Object(s.a)(d,1)[0],p=Object(n.useState)([]),h=Object(s.a)(p,2),g=h[0],f=h[1],b=l*m,v=b-m,E=g.slice(v,b),j=Math.ceil(g.length/m);return Object(n.useEffect)((function(){f(e.filter((function(e){return e.name.toLowerCase().includes(r.toLowerCase())}))),u(1)}),[r,e]),{search:r,setSearch:c,pageCount:j,currentPage:l,handleChange:function(e,t){u(t)},currentArticles:E}}(),t=e.search,a=e.setSearch,c=e.pageCount,i=e.currentPage,o=e.handleChange,l=e.currentArticles,u=Object(n.useState)([]),m=Object(s.a)(u,2),p=m[0],h=m[1];return Object(n.useEffect)((function(){!function(){ue.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"App"},r.a.createElement("p",null,"Welcome, ",d.username),r.a.createElement(le,{myList:p,search:t,setSearch:a}),r.a.createElement(T.a,{count:c,page:i,onChange:o}),r.a.createElement(J,{articles:l,setMyList:h}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},68:function(e,t,a){}},[[105,1,2]]]);
//# sourceMappingURL=main.2b23ad24.chunk.js.map